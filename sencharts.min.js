var $enCharts={s:function(t){let e=Math.pow(10,Math.floor(Math.log(t)/Math.log(10))),i=100*e,s=0,h=100;return[1,2,5].forEach(r=>{let l=Math.abs(t-r*e);l<i&&(i=l,s=r*e),r<h&&(h=r)}),Math.abs(t-10*h*e)<Math.abs(t-s)&&(s=10*h*e),s},m:function(t){for(var e="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=i.length,h=0;h<t;h++)e+=i.charAt(Math.floor(Math.random()*s));return e},Point:class{x;y;constructor(t,e){this.x=t,this.y=e}},TextStyle:class{color="black";fontSize=10;fontWeight="normal"},LineStyle:class{stroke="black";strokeWidth=1;strokeDashArray="none"},RectStyle:class{cornerRadius=0;stroke="black";strokeWidth=1;strokeDashArray="none";fill="none"},Tick:class{text=t=>t;nbTicks=5;placement="auto";#a=new $enCharts.TextStyle;get style(){return this.#a}set style(t){t.color&&(this.#a.color=t.color),t.fontSize&&(this.#a.fontSize=t.fontSize),t.fontWeight&&(this.#a.fontWeight=t.fontWeight)}},Title:class{#a=new $enCharts.TextStyle;text="";constructor(){this.#a.fontSize=12}get style(){return this.#a}set style(t){t.color&&(this.#a.color=t.color),t.fontSize&&(this.#a.fontSize=t.fontSize),t.fontWeight&&(this.#a.fontWeight=t.fontWeight)}},Legend:class{position=""},Grid:class{#a=new $enCharts.LineStyle;visible=!0;constructor(){this.#a.strokeDashArray="1 3"}get style(){return this.#a}set style(t){t.stroke&&(this.#a.stroke=t.stroke),t.strokeWidth&&(this.#a.strokeWidth=t.strokeWidth),t.strokeDashArray&&(this.#a.strokeDashArray=t.strokeDashArray)}},Spy:class{#b=new $enCharts.LineStyle;#c=new $enCharts.TextStyle;#d=new $enCharts.RectStyle;visible=!0;constructor(){this.#d.fill="black",this.#c.color="white"}get lineStyle(){return this.#b}set lineStyle(t){t.stroke&&(this.#b.stroke=t.stroke),t.strokeWidth&&(this.#b.strokeWidth=t.strokeWidth),t.strokeDashArray&&(this.#b.strokeDashArray=t.strokeDashArray)}get textStyle(){return this.#c}set textStyle(t){t.color&&(this.#c.color=t.color),t.fontSize&&(this.#c.fontSize=t.fontSize),t.fontWeight&&(this.#c.fontWeight=t.fontWeight)}get rectStyle(){return this.#d}set rectStyle(t){t.cornerRadius&&(this.#d.cornerRadius=t.cornerRadius),t.fill&&(this.#d.fill=t.fill),t.stroke&&(this.#d.stroke=t.stroke),t.strokeWidth&&(this.#d.strokeWidth=t.strokeWidth),t.strokeDashArray&&(this.#d.strokeDashArray=t.strokeDashArray)}},Axis:class{#e=new $enCharts.Tick;#f=new $enCharts.Grid;#g=new $enCharts.Title;#h=new $enCharts.Spy;visible=!0;#a=new $enCharts.LineStyle;get tick(){return this.#e}set tick(t){t.nbTicks&&(this.#e.nbTicks=t.nbTicks),t.placement&&(this.#e.placement=t.placement),t.style&&(this.#e.style=t.style),t.text&&(this.#e.text=t.text)}get grid(){return this.#f}set grid(t){!0==t.visible&&(this.#f.visible=!0),!1==t.visible&&(this.#f.visible=!1),t.style&&(this.#f.style=t.style)}get title(){return this.#g}set title(t){t.text&&(this.#g.text=t.text),t.style&&(this.#g.style=t.style)}get spy(){return this.#h}set spy(t){t.lineStyle&&(this.#h.lineStyle=t.lineStyle),t.rectStyle&&(this.#h.rectStyle=t.rectStyle),t.textStyle&&(this.#h.textStyle=t.textStyle),!0==t.visible&&(this.#h.visible=!0),!1==t.visible&&(this.#h.visible=!1)}get style(){return this.#a}set style(t){t.stroke&&(this.#a.stroke=t.stroke),t.strokeWidth&&(this.#a.strokeWidth=t.strokeWidth),t.strokeDashArray&&(this.#a.strokeDashArray=t.strokeDashArray)}},Interactivity:class{#i=new $enCharts.RectStyle;panningSpeed=2;constructor(){this.#i.strokeDashArray="2 2"}get zoomRect(){return this.#i}set zoomRect(t){t.cornerRadius&&(this.#i.cornerRadius=t.cornerRadius),t.fill&&(this.#i.fill=t.fill),t.stroke&&(this.#i.stroke=t.stroke),t.strokeWidth&&(this.#i.strokeWidth=t.strokeWidth),t.strokeDashArray&&(this.#i.strokeDashArray=t.strokeDashArray)}},Layout:class{#j=new $enCharts.Axis;#k=new $enCharts.Axis;#g=new $enCharts.Title;#l=new $enCharts.Legend;constructor(){this.#k.tick.text=t=>t.toFixed(2)}get xAxis(){return this.#j}set xAxis(t){t.grid&&(this.#j.grid=t.grid),t.spy&&(this.#j.spy=t.spy),t.style&&(this.#j.style=t.style),t.tick&&(this.#j.tick=t.tick),t.title&&(this.#j.title=t.title),!0==t.visible&&(this.#j.visible=!0),!1==t.visible&&(this.#j.visible=!1)}get yAxis(){return this.#k}set yAxis(t){t.grid&&(this.#k.grid=t.grid),t.spy&&(this.#k.spy=t.spy),t.style&&(this.#k.style=t.style),t.tick&&(this.#k.tick=t.tick),t.title&&(this.#k.title=t.title),!0==t.visible&&(this.#k.visible=!0),!1==t.visible&&(this.#k.visible=!1)}get title(){return this.#g}set title(t){t.text&&(this.#g.text=t.text),t.style&&(this.#g.style=t.style)}get legend(){return this.#l}set legend(t){t.position&&(this.#l.position=t.position)}},DataSeries:class{name="";#a=new $enCharts.LineStyle;data=[];constructor(t){this.name=t,this.#a.strokeWidth=2}get style(){return this.#a}set style(t){t.stroke&&(this.#a.stroke=t.stroke),t.strokeWidth&&(this.#a.strokeWidth=t.strokeWidth),t.strokeDashArray&&(this.#a.strokeDashArray=t.strokeDashArray)}}};class LineChart{#m=class{x=[];#n=[];get y(){return this.#n}set y(t){t&&(this.#n.length=0,t.forEach(t=>{let e=new $enCharts.DataSeries(t.name);e.data=t.data,t.style&&(e.style=t.style),this.#n.push(e)}))}};#o=new this.#m;set data(t){t.x&&(this.#o.x=t.x),t.y&&(this.#o.y=t.y)}#p=new $enCharts.Layout;get layout(){return this.#p}set layout(t){t.legend&&(this.#p.legend=t.legend),t.title&&(this.#p.title=t.title),t.xAxis&&(this.#p.xAxis=t.xAxis),t.yAxis&&(this.#p.yAxis=t.yAxis)}#q=new $enCharts.Interactivity;get interactivity(){return this.#q}set interactivity(t){if(t.panningSpeed){let e=parseInt(t.panningSpeed);isNaN(e)||(e>5&&(e=5),e<1&&(e=1),this.#q.panningSpeed=e)}t.zoomRect&&(this.#q.zoomRect=t.zoomRect)}#r="transparent";get backgroundColor(){return this.#r}set backgroundColor(t){this.#r=t,this.#s.style.backgroundColor=t}#t=[];#s=document.createElementNS("http://www.w3.org/2000/svg","svg");#u;#v=$enCharts.m(6);#w;#x;#y;#z;#A;#B;#i;#C;#D;#E=100;#F=100;#G=5;#H=3;#I=5;#J=5;#K=5;#L;#M;#N;#O=30;#P=.025;#Q=10;#R=5;#S=12;#T=20;#U=2;#V=5;#W=2;#X=50;#Y;#Z;#$;#_;#aa=!1;#ab;#ac;#ad;#ae;#af=!1;#ag=!1;#ah=0;#ai=0;constructor(t){this.#s.setAttribute("height","100%"),this.#s.setAttribute("width","100%"),this.#s.style["user-select"]="none",t.appendChild(this.#s),window.addEventListener("resize",t=>{let e=this.#s.getBoundingClientRect();this.#u&&(e.width!==this.#u.width||e.height!==this.#u.height)&&this.plot(this.#Y,this.#Z,this.#$,this.#_)}),this.#s.onmouseleave=t=>{this.layout.xAxis.spy.visible&&(this.#w.removeAttribute("x1"),this.#w.removeAttribute("y1"),this.#w.removeAttribute("x2"),this.#w.removeAttribute("y2"),this.#y.removeAttribute("x"),this.#y.textContent="",this.#A.removeAttribute("x"),this.#A.removeAttribute("y"),this.#A.removeAttribute("width"),this.#A.removeAttribute("height")),this.layout.yAxis.spy.visible&&(this.#x.removeAttribute("x1"),this.#x.removeAttribute("y1"),this.#x.removeAttribute("x2"),this.#x.removeAttribute("y2"),this.#z.removeAttribute("y"),this.#z.textContent="",this.#B.removeAttribute("x"),this.#B.removeAttribute("y"),this.#B.removeAttribute("width"),this.#B.removeAttribute("height"))},this.#s.onmousedown=t=>{if(0==t.button){let e=this.#s.getBoundingClientRect(),i=t.pageX-e.left-window.pageXOffset,s=t.pageY-e.top-window.pageYOffset;i!=this.#ah||s!=this.#ai?(this.#af=!0,this.#ag=!1):(this.#ag=!0,this.#af=!1),i<this.#N?this.#ah=this.#N:i>this.#N+this.#C?this.#ah=this.#N+this.#C:this.#ah=i,s<this.#L?this.#ai=this.#L:s>this.#L+this.#D?this.#ai=this.#L+this.#D:this.#ai=s}},this.#s.onmouseup=t=>{let e=this.#s.getBoundingClientRect(),i=t.pageX-e.left-window.pageXOffset,s=t.pageY-e.top-window.pageYOffset;if(this.#af){if(this.#af=!1,this.#t.findIndex(t=>t.nx>=i)!=this.#t.findIndex(t=>t.nx>=this.#ah)){let h=(i-this.#N)*(this.#Z-this.#Y)/this.#C+this.#Y,r=(this.#ah-this.#N)*(this.#Z-this.#Y)/this.#C+this.#Y,l=(this.#D-(s-this.#L))*(this.#_-this.#$)/this.#D+this.#$,a=(this.#D-(this.#ai-this.#L))*(this.#_-this.#$)/this.#D+this.#$;h>r?l>a?this.plot(r,h,a,l):l<a&&this.plot(r,h,l,a):h<r&&(l>a?this.plot(h,r,a,l):l<a&&this.plot(h,r,l,a))}this.#i.removeAttribute("x"),this.#i.removeAttribute("y"),this.#i.removeAttribute("width"),this.#i.removeAttribute("height")}this.#ag&&(this.#ag=!1)},this.#s.onmousemove=t=>{let e=this.#s.getBoundingClientRect(),i=t.pageX-e.left-window.pageXOffset,s=t.pageY-e.top-window.pageYOffset;if(i>=this.#N&&i<=this.#C+this.#N&&s>=this.#L&&s<=this.#D+this.#L){if(this.layout.xAxis.spy.visible&&this.#t.length>0){let h=this.#t.findIndex(t=>t.nx>i);-1==h&&(h=this.#t.length-1),0==h&&(h=1);let r=1==this.#t.length?this.#t[0]:i>(this.#t[h].nx+this.#t[h-1].nx)/2?this.#t[h]:this.#t[h-1];this.#w.setAttribute("y1",this.#D+this.#L),this.#w.setAttribute("y2",this.#L),this.#w.setAttribute("x1",r.nx),this.#w.setAttribute("x2",r.nx),this.#y.setAttribute("x",r.nx),this.#y.textContent=this.layout.xAxis.tick.text(r.x);let l=this.#y.getBoundingClientRect();this.#A.setAttribute("x",l.left-e.left),this.#A.setAttribute("y",l.top-e.top),this.#A.setAttribute("width",l.width),this.#A.setAttribute("height",l.height)}if(this.layout.yAxis.spy.visible){this.#x.setAttribute("x1",this.#N),this.#x.setAttribute("y1",s),this.#x.setAttribute("x2",this.#N+this.#C),this.#x.setAttribute("y2",s);let a=(this.#D-(s-this.#L))*(this.#_-this.#$)/this.#D+this.#$;this.#z.setAttribute("y",s+this.layout.yAxis.tick.style.fontSize/2),this.#z.textContent=this.layout.yAxis.tick.text(a);let o=this.#z.getBoundingClientRect();this.#B.setAttribute("x",o.left-e.left),this.#B.setAttribute("y",o.top-e.top),this.#B.setAttribute("width",o.width),this.#B.setAttribute("height",o.height)}if(this.#af&&(i>this.#ah?(this.#i.setAttribute("x",this.#ah),this.#i.setAttribute("width",i-this.#ah)):(this.#i.setAttribute("x",i),this.#i.setAttribute("width",this.#ah-i)),s>this.#ai?(this.#i.setAttribute("y",this.#ai),this.#i.setAttribute("height",s-this.#ai)):(this.#i.setAttribute("y",s),this.#i.setAttribute("height",this.#ai-s))),this.#ag){let y=Math.abs(i-this.#ah)*(this.#Z-this.#Y)/this.#C*this.interactivity.panningSpeed/10,n=Math.abs(s-this.#ai)*(this.#_-this.#$)/this.#D*this.interactivity.panningSpeed/10;if(i>this.#ah){let x=this.#Y-y,u=this.#Z-y;if(s>this.#ai){let d=this.#$+n,b=this.#_+n;this.plot(x,u,d,b)}else{let A=this.#$-n,p=this.#_-n;this.plot(x,u,A,p)}}else{let c=this.#Y+y,g=this.#Z+y;if(s>this.#ai){let f=this.#$+n,w=this.#_+n;this.plot(c,g,f,w)}else{let S=this.#$-n,k=this.#_-n;this.plot(c,g,S,k)}}}}else this.layout.xAxis.spy.visible&&(this.#w.removeAttribute("x1"),this.#w.removeAttribute("y1"),this.#w.removeAttribute("x2"),this.#w.removeAttribute("y2"),this.#y.removeAttribute("x"),this.#y.textContent="",this.#A.removeAttribute("x"),this.#A.removeAttribute("y"),this.#A.removeAttribute("width"),this.#A.removeAttribute("height")),this.layout.yAxis.spy.visible&&(this.#x.removeAttribute("x1"),this.#x.removeAttribute("y1"),this.#x.removeAttribute("x2"),this.#x.removeAttribute("y2"),this.#z.removeAttribute("y"),this.#z.textContent="",this.#B.removeAttribute("x"),this.#B.removeAttribute("y"),this.#B.removeAttribute("width"),this.#B.removeAttribute("height"))},this.#s.ondblclick=t=>{this.plot(this.#ab,this.#ac,this.#ad,this.#ae)}}plot(t,e,i,s){if(e<=t||0==this.#o.x.length||t<this.#o.x[0]||e>this.#o.x[this.#o.x.length-1])return;this.#Y=this.#o.x[0],this.#Z=this.#o.x[this.#o.x.length-1],arguments.length>=1&&(this.#Y=t),arguments.length>=2&&(this.#Z=e),this.#t=[];let h=this.#o.x.findIndex(t=>t>=this.#Y);if(this.#Z==this.#o.x[this.#o.x.length-1])this.#o.x.slice(h).forEach(t=>{this.#t.push({x:t})});else{let r=this.#o.x.findIndex(t=>t>this.#Z);this.#o.x.slice(h,r).forEach(t=>{this.#t.push({x:t})})}if(arguments.length<4){let l=this.#o.y[0].data.slice(h,h+this.#t.length).reduce((t,e)=>t>e?t:e);this.#_=l>0?l*(1+this.#P):l*(1-this.#P),this.#o.y.slice(1).forEach(t=>{let e=t.data.slice(h,h+this.#t.length).reduce((t,e)=>t>e?t:e),i=e>0?e*(1+this.#P):e*(1-this.#P);i>this.#_&&(this.#_=i)})}if(arguments.length<3){let a=this.#o.y[0].data.slice(h,h+this.#t.length).reduce((t,e)=>t<e?t:e);this.#$=a>0?a*(1-this.#P):a*(1+this.#P),this.#o.y.slice(1).forEach(t=>{let e=t.data.slice(h,h+this.#t.length).reduce((t,e)=>t<e?t:e),i=e>0?e*(1-this.#P):e*(1+this.#P);i<this.#$&&(this.#$=i)})}arguments.length>=3&&(this.#$=i),arguments.length>=4&&(this.#_=s),this.#aa||(this.#aa=!0,this.#ab=this.#Y,this.#ac=this.#Z,this.#ad=this.#$,this.#ae=this.#_),this.#s.innerHTML="",this.#L=this.#G,this.layout.title.text&&(this.#L+=this.layout.title.style.fontSize+this.#J),this.#N=this.#V+this.#W+this.#X+this.#H,this.layout.yAxis.title.text&&(this.#N+=this.layout.yAxis.title.style.fontSize+this.#K),this.#M=this.#V+this.#W+this.layout.xAxis.tick.style.fontSize+this.#I,this.layout.xAxis.title.text&&(this.#M+=this.layout.xAxis.title.style.fontSize+this.#K);let o=this.#s.getBoundingClientRect();this.#u={height:o.height,width:o.width},this.#C=o.width-this.#N-this.#O,this.#D=o.height-this.#L-this.#M;let y=document.createElementNS("http://www.w3.org/2000/svg","clipPath");y.setAttribute("id",this.#v),this.#s.appendChild(y);let n=document.createElementNS("http://www.w3.org/2000/svg","rect");if(n.setAttribute("x",this.#N),n.setAttribute("y",this.#L),n.setAttribute("width",this.#C),n.setAttribute("height",this.#D),n.setAttribute("stroke","transparent"),n.setAttribute("fill","none"),y.appendChild(n),this.#i=document.createElementNS("http://www.w3.org/2000/svg","rect"),this.#i.setAttribute("stroke",this.interactivity.zoomRect.stroke),this.#i.setAttribute("fill",this.interactivity.zoomRect.fill),this.#i.setAttribute("stroke-width",this.interactivity.zoomRect.strokeWidth),this.#i.setAttribute("stroke-dasharray",this.interactivity.zoomRect.strokeDashArray),this.#i.setAttribute("width",0),this.#i.setAttribute("height",0),this.#i.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(this.#i),this.layout.xAxis.visible){let x=document.createElementNS("http://www.w3.org/2000/svg","line");x.setAttribute("stroke",this.layout.xAxis.style.stroke),x.setAttribute("stroke-width",this.layout.xAxis.style.strokeWidth),x.setAttribute("shape-rendering","crispEdges"),x.setAttribute("x1",this.#N),x.setAttribute("y1",this.#L+this.#D),x.setAttribute("x2",this.#N+this.#C),x.setAttribute("y2",this.#L+this.#D),this.#s.appendChild(x)}if(this.layout.yAxis.visible){let u=document.createElementNS("http://www.w3.org/2000/svg","line");u.setAttribute("stroke",this.layout.yAxis.style.stroke),u.setAttribute("stroke-width",this.layout.yAxis.style.strokeWidth),u.setAttribute("shape-rendering","crispEdges"),u.setAttribute("x1",this.#N),u.setAttribute("y1",this.#L),u.setAttribute("x2",this.#N),u.setAttribute("y2",this.#L+this.#D),this.#s.appendChild(u)}let d;if("auto"==this.layout.xAxis.tick.placement.toLowerCase()||this.layout.xAxis.tick.nbTicks<=1){let b=this.#C/(this.#Z-this.#Y),A=this.#E/b;d=$enCharts.s(A);let p=Math.ceil(this.#Y/d),c=Math.floor(this.#Z/d);for(let g=p;g<=c;g++)this.#aj(g*d)}else{d=(this.#Z-this.#Y)/(this.layout.xAxis.tick.nbTicks-1);for(let f=0;f<this.layout.xAxis.tick.nbTicks;f++)this.#aj(this.#Y+f*d)}this.#w=document.createElementNS("http://www.w3.org/2000/svg","line"),this.#w.setAttribute("stroke",this.layout.xAxis.spy.lineStyle.stroke),this.#w.setAttribute("stroke-width",1),this.#w.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(this.#w),this.#A=document.createElementNS("http://www.w3.org/2000/svg","rect"),this.#A.setAttribute("stroke",this.layout.xAxis.spy.rectStyle.stroke),this.#A.setAttribute("fill",this.layout.xAxis.spy.rectStyle.fill),this.#A.setAttribute("rx",this.layout.xAxis.spy.rectStyle.cornerRadius),this.#A.setAttribute("shape-rendering","geometricPrecision"),this.#A.setAttribute("width",0),this.#A.setAttribute("height",0),this.#s.appendChild(this.#A),this.#y=document.createElementNS("http://www.w3.org/2000/svg","text"),this.#y.setAttribute("fill",this.layout.xAxis.spy.textStyle.color),this.#y.setAttribute("font-size",this.layout.xAxis.tick.style.fontSize),this.#y.setAttribute("text-anchor","middle"),this.#y.setAttribute("y",this.#L+this.#D+this.#V+this.#W+this.layout.xAxis.tick.style.fontSize),this.#s.appendChild(this.#y);let w;if("auto"==this.layout.yAxis.tick.placement.toLowerCase()||this.layout.yAxis.tick.nbTicks<=1){let S=this.#D/(this.#_-this.#$),k=this.#F/S;w=$enCharts.s(k);let v=Math.ceil(this.#$/w),m=Math.floor(this.#_/w);for(let $=v;$<=m;$++)this.#ak($*w)}else{w=(this.#_-this.#$)/(this.layout.yAxis.tick.nbTicks-1);for(let _=0;_<this.layout.yAxis.tick.nbTicks;_++)this.#ak(this.#$+_*w)}if(this.#x=document.createElementNS("http://www.w3.org/2000/svg","line"),this.#x.setAttribute("stroke",this.layout.yAxis.spy.lineStyle.stroke),this.#x.setAttribute("stroke-width",1),this.#x.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(this.#x),this.#B=document.createElementNS("http://www.w3.org/2000/svg","rect"),this.#B.setAttribute("stroke",this.layout.yAxis.spy.rectStyle.stroke),this.#B.setAttribute("fill",this.layout.yAxis.spy.rectStyle.fill),this.#B.setAttribute("rx",this.layout.yAxis.spy.rectStyle.cornerRadius),this.#B.setAttribute("shape-rendering","geometricPrecision"),this.#B.setAttribute("width",0),this.#B.setAttribute("height",0),this.#s.appendChild(this.#B),this.#z=document.createElementNS("http://www.w3.org/2000/svg","text"),this.#z.setAttribute("fill",this.layout.yAxis.spy.textStyle.color),this.#z.setAttribute("font-size",this.layout.yAxis.tick.style.fontSize),this.#z.setAttribute("text-anchor","end"),this.#z.setAttribute("x",this.#N-this.#V-this.#W),this.#s.appendChild(this.#z),this.#o.y.forEach((t,e)=>{let i="";for(let s=0;s<this.#t.length;s++){let r=this.#al(this.#t[s].x),l=this.#am(t.data[s+h]);this.#t[s].nx=r,i+=r+","+l+" "}let a=document.createElementNS("http://www.w3.org/2000/svg","polyline");a.setAttribute("points",i.trim()),a.setAttribute("fill","none"),a.setAttribute("stroke",t.style.stroke),a.setAttribute("stroke-dasharray",t.style.strokeDashArray),a.setAttribute("stroke-width",t.style.strokeWidth),a.setAttribute("stroke-linejoin","round"),a.setAttribute("shape-rendering","geometricPrecision"),a.setAttribute("clip-path","url(#"+this.#v+")"),this.#s.appendChild(a),t.name||(t.name="Series "+e)}),this.#o.y.length>0&&this.layout.legend.position){let C=document.createElementNS("http://www.w3.org/2000/svg","svg"),M=0;this.#o.y.forEach(t=>{let e=document.createElementNS("http://www.w3.org/2000/svg","line"),i=this.#S/2+M*(this.#S+this.#R);e.setAttribute("x1",this.#R),e.setAttribute("x2",this.#R+this.#T),e.setAttribute("y1",i),e.setAttribute("y2",i),e.setAttribute("stroke",t.style.stroke),e.setAttribute("stroke-dasharray",t.style.strokeDashArray),e.setAttribute("stroke-width",this.#U),C.appendChild(e);let s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("font-size",this.#S),s.setAttribute("x",2*this.#R+this.#T),s.setAttribute("y",M*(this.#S+this.#R)+this.#S),s.setAttribute("text-anchor","start"),s.textContent=t.name,C.appendChild(s),M++}),this.#s.appendChild(C);let z=C.getBBox();C.setAttribute("width",z.width+this.#Q+"px"),C.setAttribute("height",z.height+"px");let L=C.getBoundingClientRect();switch(this.layout.legend.position.toLowerCase()){case"east":C.setAttribute("x",this.#N+this.#C-this.#Q-L.width),C.setAttribute("y",this.#L+(this.#D-L.height)/2);break;case"west":C.setAttribute("x",this.#N+this.#Q),C.setAttribute("y",this.#L+(this.#D-L.height)/2);break;case"north":C.setAttribute("x",this.#N+(this.#C-L.width)/2),C.setAttribute("y",this.#L+this.#Q);break;case"northeast":C.setAttribute("x",this.#N+this.#C-this.#Q-L.width),C.setAttribute("y",this.#L+this.#Q);break;case"northwest":C.setAttribute("x",this.#N+this.#Q),C.setAttribute("y",this.#L+this.#Q);break;case"southeast":C.setAttribute("x",this.#N+this.#C-this.#Q-L.width),C.setAttribute("y",this.#L+this.#D-this.#Q-L.height);break;case"southwest":C.setAttribute("x",this.#N+this.#Q),C.setAttribute("y",this.#L+this.#D-this.#Q-L.height);break;default:C.setAttribute("x",this.#N+(this.#C-L.width)/2),C.setAttribute("y",this.#L+this.#D-this.#Q-L.height)}}if(this.layout.title.text){let R=document.createElementNS("http://www.w3.org/2000/svg","text");R.setAttribute("font-size",this.layout.title.style.fontSize),R.setAttribute("font-weight",this.layout.title.style.fontWeight),R.setAttribute("fill",this.layout.title.style.color),R.setAttribute("x",this.#N+this.#C/2),R.setAttribute("y",this.layout.title.style.fontSize+this.#G),R.setAttribute("text-anchor","middle"),R.textContent=this.layout.title.text,this.#s.appendChild(R)}if(this.layout.xAxis.title.text){let O=document.createElementNS("http://www.w3.org/2000/svg","text");O.setAttribute("font-size",this.layout.xAxis.title.style.fontSize),O.setAttribute("font-weight",this.layout.xAxis.title.style.fontWeight),O.setAttribute("fill",this.layout.xAxis.title.style.color),O.setAttribute("x",this.#N+this.#C/2),O.setAttribute("y",this.#L+this.#D+this.#V+this.#W+this.layout.xAxis.tick.style.fontSize+this.#W+this.layout.xAxis.title.style.fontSize),O.setAttribute("text-anchor","middle"),O.textContent=this.layout.xAxis.title.text,this.#s.appendChild(O)}if(this.layout.yAxis.title.text){let E=document.createElementNS("http://www.w3.org/2000/svg","text");E.setAttribute("font-size",this.layout.yAxis.title.style.fontSize),E.setAttribute("font-weight",this.layout.yAxis.title.style.fontWeight),E.setAttribute("fill",this.layout.yAxis.title.style.color),E.setAttribute("text-anchor","start"),E.textContent=this.layout.yAxis.title.text,this.#s.appendChild(E);let W=E.getBoundingClientRect(),N=this.layout.xAxis.title.style.fontSize+3,H=this.#L+this.#D/2+W.width/2;E.setAttribute("x",N),E.setAttribute("y",H),E.setAttribute("transform","rotate(-90,"+N+","+H+")")}}#an(t,e){return new $enCharts.Point((t-this.#Y)*this.#C/(this.#Z-this.#Y)+this.#N,this.#D-(e-this.#$)*this.#D/(this.#_-this.#$)+this.#L)}#al(i){return(i-this.#Y)*this.#C/(this.#Z-this.#Y)+this.#N}#am(s){return this.#D-(s-this.#$)*this.#D/(this.#_-this.#$)+this.#L}#aj(h){let r=this.#an(h,this.#$),l=this.#an(h,this.#_);if(this.layout.xAxis.visible){let a=document.createElementNS("http://www.w3.org/2000/svg","line");a.setAttribute("stroke",this.layout.xAxis.style.stroke),a.setAttribute("stroke-width",this.layout.xAxis.style.strokeWidth),a.setAttribute("x1",r.x),a.setAttribute("y1",r.y),a.setAttribute("x2",r.x),a.setAttribute("y2",r.y+this.#V),a.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(a)}let o=document.createElementNS("http://www.w3.org/2000/svg","text");if(o.setAttribute("fill",this.layout.xAxis.tick.style.color),o.setAttribute("x",r.x),o.setAttribute("y",r.y+this.#V+this.#W+this.layout.xAxis.tick.style.fontSize),o.setAttribute("text-anchor","middle"),o.setAttribute("font-size",this.layout.xAxis.tick.style.fontSize),o.textContent=this.layout.xAxis.tick.text(h),this.#s.appendChild(o),this.layout.xAxis.grid.visible&&h!=this.#Y&&h!=this.#Z){let y=document.createElementNS("http://www.w3.org/2000/svg","line");y.setAttribute("stroke",this.layout.xAxis.grid.style.stroke),y.setAttribute("stroke-width",this.layout.xAxis.grid.style.strokeWidth),y.setAttribute("stroke-dasharray",this.layout.xAxis.grid.style.strokeDashArray),y.setAttribute("x1",r.x),y.setAttribute("y1",r.y),y.setAttribute("x2",l.x),y.setAttribute("y2",l.y),y.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(y)}}#ak(n){let x=this.#an(this.#Y,n),u=this.#an(this.#Z,n);if(this.layout.yAxis.visible){let d=document.createElementNS("http://www.w3.org/2000/svg","line");d.setAttribute("stroke",this.layout.yAxis.style.stroke),d.setAttribute("stroke-width",this.layout.yAxis.style.strokeWidth),d.setAttribute("x1",x.x),d.setAttribute("y1",x.y),d.setAttribute("x2",x.x-this.#V),d.setAttribute("y2",x.y),d.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(d)}let b=document.createElementNS("http://www.w3.org/2000/svg","text");if(b.setAttribute("fill",this.layout.yAxis.tick.style.color),b.setAttribute("x",x.x-this.#V-this.#W),b.setAttribute("y",x.y+this.layout.yAxis.tick.style.fontSize/2),b.setAttribute("text-anchor","end"),b.setAttribute("font-size",this.layout.yAxis.tick.style.fontSize),b.textContent=this.layout.yAxis.tick.text(n),this.#s.appendChild(b),this.layout.yAxis.grid.visible&&n!=this.#$&&n!=this.#_){let A=document.createElementNS("http://www.w3.org/2000/svg","line");A.setAttribute("stroke",this.layout.yAxis.grid.style.stroke),A.setAttribute("stroke-width",this.layout.yAxis.grid.style.strokeWidth),A.setAttribute("stroke-dasharray",this.layout.yAxis.grid.style.strokeDashArray),A.setAttribute("x1",x.x),A.setAttribute("y1",x.y),A.setAttribute("x2",u.x),A.setAttribute("y2",u.y),A.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(A)}}}class StockChart{data=[];#p=new $enCharts.Layout;get layout(){return this.#p}set layout(t){t.title&&(this.#p.title=t.title),t.xAxis&&(this.#p.xAxis=t.xAxis),t.yAxis&&(this.#p.yAxis=t.yAxis)}#q=new $enCharts.Interactivity;get interactivity(){return this.#q}set interactivity(t){if(t.panningSpeed){let e=parseInt(t.panningSpeed);isNaN(e)||(e>5&&(e=5),e<1&&(e=1),this.#q.panningSpeed=e)}t.zoomRect&&(this.#q.zoomRect=t.zoomRect)}#r="transparent";get backgroundColor(){return this.#r}set backgroundColor(t){this.#r=t,this.#s.style.backgroundColor=t}chartType="line";#t=[];#s=document.createElementNS("http://www.w3.org/2000/svg","svg");#u;#w;#x;#y;#z;#A;#B;#i;#C;#D;#E=100;#F=100;#G=5;#H=3;#I=5;#J=5;#K=5;#L;#M;#N;#O=30;#P=.025;#V=5;#W=2;#X=50;#Y;#Z;#$;#_;#aa=!1;#ab;#ac;#af=!1;#ag=!1;#ah=0;#ai=0;constructor(t){this.#s.setAttribute("height","100%"),this.#s.setAttribute("width","100%"),this.#s.style["user-select"]="none",t.appendChild(this.#s),window.addEventListener("resize",t=>{let e=this.#s.getBoundingClientRect();this.#u&&(e.width!==this.#u.width||e.height!==this.#u.height)&&this.plot(this.#Y,this.#Z)}),this.#s.onmouseleave=t=>{this.layout.xAxis.spy.visible&&(this.#w.removeAttribute("x1"),this.#w.removeAttribute("y1"),this.#w.removeAttribute("x2"),this.#w.removeAttribute("y2"),this.#y.removeAttribute("x"),this.#y.textContent="",this.#A.removeAttribute("x"),this.#A.removeAttribute("y"),this.#A.removeAttribute("width"),this.#A.removeAttribute("height")),this.layout.yAxis.spy.visible&&(this.#x.removeAttribute("x1"),this.#x.removeAttribute("y1"),this.#x.removeAttribute("x2"),this.#x.removeAttribute("y2"),this.#z.removeAttribute("y"),this.#z.textContent="",this.#B.removeAttribute("x"),this.#B.removeAttribute("y"),this.#B.removeAttribute("width"),this.#B.removeAttribute("height"))},this.#s.onmousedown=t=>{if(0==t.button){let e=this.#s.getBoundingClientRect(),i=t.pageX-e.left-window.pageXOffset,s=t.pageY-e.top-window.pageYOffset;i!=this.#ah||s!=this.#ai?(this.#af=!0,this.#ag=!1):(this.#ag=!0,this.#af=!1),i<this.#N?this.#ah=this.#N:i>this.#N+this.#C?this.#ah=this.#N+this.#C:this.#ah=i,s<this.#L?this.#ai=this.#L:s>this.#L+this.#D?this.#ai=this.#L+this.#D:this.#ai=s}},this.#s.onmouseup=t=>{let e=this.#s.getBoundingClientRect(),i=t.pageX-e.left-window.pageXOffset;if(this.#af){this.#af=!1;let s=this.#t.findIndex(t=>t.nx>=i),h=this.#t.findIndex(t=>t.nx>=this.#ah);s<h?this.plot(this.#Y+s,this.#Y+h-1):this.plot(this.#Y+h,this.#Y+s-1),this.#i.removeAttribute("x"),this.#i.removeAttribute("y"),this.#i.removeAttribute("width"),this.#i.removeAttribute("height")}this.#ag&&(this.#ag=!1)},this.#s.onmousemove=t=>{let e=this.#s.getBoundingClientRect(),i=t.pageX-e.left-window.pageXOffset,s=t.pageY-e.top-window.pageYOffset;if(i>=this.#N&&i<=this.#C+this.#N&&s>=this.#L&&s<=this.#D+this.#L){if(this.layout.xAxis.spy.visible&&this.#t.length>0){let h=this.#t.findIndex(t=>t.nx>i);-1==h&&(h=this.#t.length-1),0==h&&(h=1);let r=1==this.#t.length?this.#t[0]:i>(this.#t[h].nx+this.#t[h-1].nx)/2?this.#t[h]:this.#t[h-1];this.#w.setAttribute("y1",this.#D+this.#L),this.#w.setAttribute("y2",this.#L),this.#w.setAttribute("x1",r.nx),this.#w.setAttribute("x2",r.nx),this.#y.setAttribute("x",r.nx),this.#y.textContent=this.layout.xAxis.tick.text(r.Date);let l=this.#y.getBoundingClientRect();this.#A.setAttribute("x",l.left-e.left),this.#A.setAttribute("y",l.top-e.top),this.#A.setAttribute("width",l.width),this.#A.setAttribute("height",l.height)}if(this.layout.yAxis.spy.visible){this.#x.setAttribute("x1",this.#N),this.#x.setAttribute("y1",s),this.#x.setAttribute("x2",this.#N+this.#C),this.#x.setAttribute("y2",s);let a=(this.#D-(s-this.#L))*(this.#_-this.#$)/this.#D+this.#$;this.#z.setAttribute("y",s+this.layout.yAxis.tick.style.fontSize/2),this.#z.textContent=this.layout.yAxis.tick.text(a);let o=this.#z.getBoundingClientRect();this.#B.setAttribute("x",o.left-e.left),this.#B.setAttribute("y",o.top-e.top),this.#B.setAttribute("width",o.width),this.#B.setAttribute("height",o.height)}if(this.#af&&(i>this.#ah?(this.#i.setAttribute("x",this.#ah),this.#i.setAttribute("width",i-this.#ah)):(this.#i.setAttribute("x",i),this.#i.setAttribute("width",this.#ah-i)),this.#i.setAttribute("y",this.#L),this.#i.setAttribute("height",this.#D)),this.#ag){let y=this.#t.findIndex(t=>t.nx>=Math.abs(i-this.#ah)*this.interactivity.panningSpeed/10+this.#N);y>0&&(i>this.#ah?this.plot(this.#Y-y,this.#Z-y):this.plot(this.#Y+y,this.#Z+y))}}else this.layout.xAxis.spy.visible&&(this.#w.removeAttribute("x1"),this.#w.removeAttribute("y1"),this.#w.removeAttribute("x2"),this.#w.removeAttribute("y2"),this.#y.removeAttribute("x"),this.#y.textContent="",this.#A.removeAttribute("x"),this.#A.removeAttribute("y"),this.#A.removeAttribute("width"),this.#A.removeAttribute("height")),this.layout.yAxis.spy.visible&&(this.#x.removeAttribute("x1"),this.#x.removeAttribute("y1"),this.#x.removeAttribute("x2"),this.#x.removeAttribute("y2"),this.#z.removeAttribute("y"),this.#z.textContent="",this.#B.removeAttribute("x"),this.#B.removeAttribute("y"),this.#B.removeAttribute("width"),this.#B.removeAttribute("height"))},this.#s.ondblclick=t=>{this.plot(this.#ab,this.#ac)}}plot(t,e){if(e<=t||0==this.data.length||t<0||e>this.data.length-1)return;this.#Y=0,this.#Z=this.data.length-1,arguments.length>=1&&(this.#Y=t),0==this.#Y&&"candlestickctc"==this.chartType.toLowerCase()&&(this.#Y=1),arguments.length>=2&&(this.#Z=e),this.#Z==this.data.length-1?this.#t=this.data.slice(this.#Y):this.#t=this.data.slice(this.#Y,this.#Z+1),"line"==this.chartType.toLowerCase()?(this.#$=Math.floor(this.#t.reduce((t,e)=>t.Close<e.Close?t:e).Close*(1-this.#P)),this.#_=Math.ceil(this.#t.reduce((t,e)=>t.Close>e.Close?t:e).Close*(1+this.#P))):(this.#$=Math.floor(this.#t.reduce((t,e)=>t.Low<e.Low?t:e).Low*(1-this.#P)),this.#_=Math.ceil(this.#t.reduce((t,e)=>t.High>e.High?t:e).High*(1+this.#P))),this.#aa||(this.#aa=!0,this.#ab=this.#Y,this.#ac=this.#Z),this.#s.innerHTML="",this.#L=this.#G,this.layout.title.text&&(this.#L+=this.layout.title.style.fontSize+this.#J),this.#N=this.#V+this.#W+this.#X+this.#H,this.layout.yAxis.title.text&&(this.#N+=this.layout.yAxis.title.style.fontSize+this.#K),this.#M=this.#V+this.#W+this.layout.xAxis.tick.style.fontSize+this.#I,this.layout.xAxis.title.text&&(this.#M+=this.layout.xAxis.title.style.fontSize+this.#K);let i=this.#s.getBoundingClientRect();if(this.#u={height:i.height,width:i.width},this.#C=i.width-this.#N-this.#O,this.#D=i.height-this.#L-this.#M,this.#i=document.createElementNS("http://www.w3.org/2000/svg","rect"),this.#i.setAttribute("stroke",this.interactivity.zoomRect.stroke),this.#i.setAttribute("fill",this.interactivity.zoomRect.fill),this.#i.setAttribute("stroke-width",this.interactivity.zoomRect.strokeWidth),this.#i.setAttribute("stroke-dasharray",this.interactivity.zoomRect.strokeDashArray),this.#i.setAttribute("width",0),this.#i.setAttribute("height",0),this.#i.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(this.#i),this.layout.xAxis.visible){let s=document.createElementNS("http://www.w3.org/2000/svg","line");s.setAttribute("stroke",this.layout.xAxis.style.stroke),s.setAttribute("stroke-width",this.layout.xAxis.style.strokeWidth),s.setAttribute("shape-rendering","crispEdges"),s.setAttribute("x1",this.#N),s.setAttribute("y1",this.#L+this.#D),s.setAttribute("x2",this.#N+this.#C),s.setAttribute("y2",this.#L+this.#D),this.#s.appendChild(s)}if(this.layout.yAxis.visible){let h=document.createElementNS("http://www.w3.org/2000/svg","line");h.setAttribute("stroke",this.layout.yAxis.style.stroke),h.setAttribute("stroke-width",this.layout.yAxis.style.strokeWidth),h.setAttribute("shape-rendering","crispEdges"),h.setAttribute("x1",this.#N),h.setAttribute("y1",this.#L),h.setAttribute("x2",this.#N),h.setAttribute("y2",this.#L+this.#D),this.#s.appendChild(h)}let r;if("auto"==this.layout.xAxis.tick.placement.toLowerCase()||this.layout.xAxis.tick.nbTicks<=1){let l=this.#C/(this.#Z-this.#Y),a=this.#E/l;r=$enCharts.s(a);let o=Math.ceil(this.#Y/r),y=Math.floor(this.#Z/r);for(let n=o;n<=y;n++)this.#aj(Math.floor(n*r))}else{r=(this.#Z-this.#Y)/(this.layout.xAxis.tick.nbTicks-1);for(let x=0;x<this.layout.xAxis.tick.nbTicks;x++)this.#aj(this.#Y+Math.floor(x*r))}this.#w=document.createElementNS("http://www.w3.org/2000/svg","line"),this.#w.setAttribute("stroke",this.layout.xAxis.spy.lineStyle.stroke),this.#w.setAttribute("stroke-width",1),this.#w.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(this.#w),this.#A=document.createElementNS("http://www.w3.org/2000/svg","rect"),this.#A.setAttribute("stroke",this.layout.xAxis.spy.rectStyle.stroke),this.#A.setAttribute("fill",this.layout.xAxis.spy.rectStyle.fill),this.#A.setAttribute("rx",this.layout.xAxis.spy.rectStyle.cornerRadius),this.#A.setAttribute("shape-rendering","geometricPrecision"),this.#A.setAttribute("width",0),this.#A.setAttribute("height",0),this.#s.appendChild(this.#A),this.#y=document.createElementNS("http://www.w3.org/2000/svg","text"),this.#y.setAttribute("fill",this.layout.xAxis.spy.textStyle.color),this.#y.setAttribute("font-size",this.layout.xAxis.tick.style.fontSize),this.#y.setAttribute("text-anchor","middle"),this.#y.setAttribute("y",this.#L+this.#D+this.#V+this.#W+this.layout.xAxis.tick.style.fontSize),this.#s.appendChild(this.#y);let u;if("auto"==this.layout.yAxis.tick.placement.toLowerCase()||this.layout.yAxis.tick.nbTicks<=1){let d=this.#D/(this.#_-this.#$),b=this.#F/d;u=$enCharts.s(b);let A=Math.ceil(this.#$/u),p=Math.floor(this.#_/u);for(let c=A;c<=p;c++)this.#ak(Math.floor(c*u))}else{u=(this.#_-this.#$)/(this.layout.yAxis.tick.nbTicks-1);for(let g=0;g<this.layout.yAxis.tick.nbTicks;g++)this.#ak(this.#$+Math.floor(g*u))}if(this.#x=document.createElementNS("http://www.w3.org/2000/svg","line"),this.#x.setAttribute("stroke",this.layout.yAxis.spy.lineStyle.stroke),this.#x.setAttribute("stroke-width",1),this.#x.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(this.#x),this.#B=document.createElementNS("http://www.w3.org/2000/svg","rect"),this.#B.setAttribute("stroke",this.layout.yAxis.spy.rectStyle.stroke),this.#B.setAttribute("fill",this.layout.yAxis.spy.rectStyle.fill),this.#B.setAttribute("rx",this.layout.yAxis.spy.rectStyle.cornerRadius),this.#B.setAttribute("shape-rendering","geometricPrecision"),this.#B.setAttribute("width",0),this.#B.setAttribute("height",0),this.#s.appendChild(this.#B),this.#z=document.createElementNS("http://www.w3.org/2000/svg","text"),this.#z.setAttribute("fill",this.layout.yAxis.spy.textStyle.color),this.#z.setAttribute("font-size",this.layout.yAxis.tick.style.fontSize),this.#z.setAttribute("text-anchor","end"),this.#z.setAttribute("x",this.#N-this.#V-this.#W),this.#s.appendChild(this.#z),"line"==this.chartType.toLowerCase()){let f="";for(let w=this.#Y;w<=this.#Z;w++){let S=this.#an(w,this.data[w].Close);this.#t[w-this.#Y].nx=S.x,f+=S.x+","+S.y+" "}let k=document.createElementNS("http://www.w3.org/2000/svg","polyline");k.setAttribute("points",f.trim()),k.setAttribute("fill","none"),k.setAttribute("stroke","black"),k.setAttribute("stroke-width",2),k.setAttribute("stroke-linejoin","round"),k.setAttribute("shape-rendering","geometricPrecision"),this.#s.appendChild(k)}else if("hilo"==this.chartType.toLowerCase())for(let v=this.#Y;v<=this.#Z;v++){let m=this.#an(v,this.data[v].Low),$=this.#an(v,this.data[v].High),_=document.createElementNS("http://www.w3.org/2000/svg","line");_.setAttribute("x1",m.x),_.setAttribute("y1",m.y),_.setAttribute("x2",$.x),_.setAttribute("y2",$.y),_.setAttribute("stroke","black"),_.setAttribute("stroke-width",2),_.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(_),this.#t[v-this.#Y].nx=m.x}else if("ohlc"==this.chartType.toLowerCase())for(let C=this.#Y;C<=this.#Z;C++){let M="black";this.data[C].Open>this.data[C].Close&&(M="red"),this.data[C].Open<this.data[C].Close&&(M="green");let z=this.#an(C,this.data[C].Low),L=this.#an(C,this.data[C].High),R=document.createElementNS("http://www.w3.org/2000/svg","line");R.setAttribute("x1",z.x),R.setAttribute("y1",z.y),R.setAttribute("x2",L.x),R.setAttribute("y2",L.y),R.setAttribute("stroke",M),R.setAttribute("stroke-width",2),R.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(R);let O=this.#an(C,this.data[C].Open),E=document.createElementNS("http://www.w3.org/2000/svg","line");E.setAttribute("x1",O.x),E.setAttribute("y1",O.y),E.setAttribute("x2",O.x-3),E.setAttribute("y2",O.y),E.setAttribute("stroke",M),E.setAttribute("stroke-width",2),E.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(E);let W=this.#an(C,this.data[C].Close),N=document.createElementNS("http://www.w3.org/2000/svg","line");N.setAttribute("x1",W.x),N.setAttribute("y1",W.y),N.setAttribute("x2",W.x+3),N.setAttribute("y2",W.y),N.setAttribute("stroke",M),N.setAttribute("stroke-width",2),N.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(N),this.#t[C-this.#Y].nx=W.x}else if("candlestickotc"==this.chartType.toLowerCase())for(let H=this.#Y;H<=this.#Z;H++){let P=this.#an(H,this.data[H].Low),X=this.#an(H,this.data[H].High),V=this.#an(H,this.data[H].Open),T=this.#an(H,this.data[H].Close);if(this.data[H].Open>this.data[H].Close){let Y=document.createElementNS("http://www.w3.org/2000/svg","rect");Y.setAttribute("x",V.x-2),Y.setAttribute("y",V.y),Y.setAttribute("width",4),Y.setAttribute("height",T.y-V.y),Y.setAttribute("stroke","red"),Y.setAttribute("fill","red"),Y.setAttribute("stroke-width",1),Y.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(Y);let D=document.createElementNS("http://www.w3.org/2000/svg","line");D.setAttribute("x1",X.x),D.setAttribute("y1",X.y),D.setAttribute("x2",V.x),D.setAttribute("y2",V.y),D.setAttribute("stroke","red"),D.setAttribute("stroke-width",1),D.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(D);let B=document.createElementNS("http://www.w3.org/2000/svg","line");B.setAttribute("x1",P.x),B.setAttribute("y1",P.y),B.setAttribute("x2",T.x),B.setAttribute("y2",T.y),B.setAttribute("stroke","red"),B.setAttribute("stroke-width",1),B.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(B)}else if(this.data[H].Open<this.data[H].Close){let I=document.createElementNS("http://www.w3.org/2000/svg","rect");I.setAttribute("x",T.x-2),I.setAttribute("y",T.y),I.setAttribute("width",4),I.setAttribute("height",V.y-T.y),I.setAttribute("fill","green"),I.setAttribute("stroke","green"),I.setAttribute("stroke-width",1),I.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(I);let F=document.createElementNS("http://www.w3.org/2000/svg","line");F.setAttribute("x1",X.x),F.setAttribute("y1",X.y),F.setAttribute("x2",T.x),F.setAttribute("y2",T.y),F.setAttribute("stroke","green"),F.setAttribute("stroke-width",1),F.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(F);let j=document.createElementNS("http://www.w3.org/2000/svg","line");j.setAttribute("x1",P.x),j.setAttribute("y1",P.y),j.setAttribute("x2",V.x),j.setAttribute("y2",V.y),j.setAttribute("stroke","green"),j.setAttribute("stroke-width",1),j.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(j)}else{let G=document.createElementNS("http://www.w3.org/2000/svg","line");G.setAttribute("x1",P.x),G.setAttribute("y1",P.y),G.setAttribute("x2",X.x),G.setAttribute("y2",X.y),G.setAttribute("stroke","black"),G.setAttribute("stroke-width",1),G.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(G);let q=document.createElementNS("http://www.w3.org/2000/svg","line");q.setAttribute("x1",V.x-2),q.setAttribute("y1",V.y),q.setAttribute("x2",T.x+2),q.setAttribute("y2",T.y),q.setAttribute("stroke","black"),q.setAttribute("stroke-width",1),q.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(q)}this.#t[H-this.#Y].nx=T.x}else if("candlestickctc"!=this.chartType.toLowerCase())return;else if(this.data.length>=2)for(let J=this.#Y;J<=this.#Z;J++){let K=this.#an(J,this.data[J].Low),Q=this.#an(J,this.data[J].High),U=this.#an(J,this.data[J-1].Close),Z=this.#an(J,this.data[J].Close);if(this.data[J-1].Close>this.data[J].Close){let tt=document.createElementNS("http://www.w3.org/2000/svg","rect");tt.setAttribute("x",U.x-2),tt.setAttribute("y",U.y),tt.setAttribute("width",4),tt.setAttribute("height",Z.y-U.y),tt.setAttribute("stroke","red"),tt.setAttribute("fill","red"),tt.setAttribute("stroke-width",1),tt.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(tt);let te=document.createElementNS("http://www.w3.org/2000/svg","line");te.setAttribute("x1",Q.x),te.setAttribute("y1",Q.y),te.setAttribute("x2",U.x),te.setAttribute("y2",U.y),te.setAttribute("stroke","red"),te.setAttribute("stroke-width",1),te.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(te);let ti=document.createElementNS("http://www.w3.org/2000/svg","line");ti.setAttribute("x1",K.x),ti.setAttribute("y1",K.y),ti.setAttribute("x2",Z.x),ti.setAttribute("y2",Z.y),ti.setAttribute("stroke","red"),ti.setAttribute("stroke-width",1),ti.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(ti)}else if(this.data[J-1].Close<this.data[J].Close){let ts=document.createElementNS("http://www.w3.org/2000/svg","rect");ts.setAttribute("x",Z.x-2),ts.setAttribute("y",Z.y),ts.setAttribute("width",4),ts.setAttribute("height",U.y-Z.y),ts.setAttribute("fill","green"),ts.setAttribute("stroke","green"),ts.setAttribute("stroke-width",1),ts.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(ts);let th=document.createElementNS("http://www.w3.org/2000/svg","line");th.setAttribute("x1",Q.x),th.setAttribute("y1",Q.y),th.setAttribute("x2",Z.x),th.setAttribute("y2",Z.y),th.setAttribute("stroke","green"),th.setAttribute("stroke-width",1),th.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(th);let tr=document.createElementNS("http://www.w3.org/2000/svg","line");tr.setAttribute("x1",K.x),tr.setAttribute("y1",K.y),tr.setAttribute("x2",U.x),tr.setAttribute("y2",U.y),tr.setAttribute("stroke","green"),tr.setAttribute("stroke-width",1),tr.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(tr)}else{let tl=document.createElementNS("http://www.w3.org/2000/svg","line");tl.setAttribute("x1",K.x),tl.setAttribute("y1",K.y),tl.setAttribute("x2",Q.x),tl.setAttribute("y2",Q.y),tl.setAttribute("stroke","black"),tl.setAttribute("stroke-width",1),tl.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(tl);let ta=document.createElementNS("http://www.w3.org/2000/svg","line");ta.setAttribute("x1",U.x-2),ta.setAttribute("y1",U.y),ta.setAttribute("x2",Z.x+2),ta.setAttribute("y2",Z.y),ta.setAttribute("stroke","black"),ta.setAttribute("stroke-width",1),ta.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(ta)}this.#t[J-this.#Y].nx=Z.x}if(this.layout.title.text){let to=document.createElementNS("http://www.w3.org/2000/svg","text");to.setAttribute("font-size",this.layout.title.style.fontSize),to.setAttribute("font-weight",this.layout.title.style.fontWeight),to.setAttribute("fill",this.layout.title.style.color),to.setAttribute("x",this.#N+this.#C/2),to.setAttribute("y",this.layout.title.style.fontSize+this.#G),to.setAttribute("text-anchor","middle"),to.textContent=this.layout.title.text,this.#s.appendChild(to)}if(this.layout.xAxis.title.text){let ty=document.createElementNS("http://www.w3.org/2000/svg","text");ty.setAttribute("font-size",this.layout.xAxis.title.style.fontSize),ty.setAttribute("font-weight",this.layout.xAxis.title.style.fontWeight),ty.setAttribute("fill",this.layout.xAxis.title.style.color),ty.setAttribute("x",this.#N+this.#C/2),ty.setAttribute("y",this.#L+this.#D+this.#V+this.#W+this.layout.xAxis.tick.style.fontSize+this.#W+this.layout.xAxis.title.style.fontSize),ty.setAttribute("text-anchor","middle"),ty.textContent=this.layout.xAxis.title.text,this.#s.appendChild(ty)}if(this.layout.yAxis.title.text){let tn=document.createElementNS("http://www.w3.org/2000/svg","text");tn.setAttribute("font-size",this.layout.yAxis.title.style.fontSize),tn.setAttribute("font-weight",this.layout.yAxis.title.style.fontWeight),tn.setAttribute("fill",this.layout.yAxis.title.style.color),tn.setAttribute("text-anchor","start"),tn.textContent=this.layout.yAxis.title.text,this.#s.appendChild(tn);let tx=tn.getBoundingClientRect(),tu=this.layout.xAxis.title.style.fontSize+3,td=this.#L+this.#D/2+tx.width/2;tn.setAttribute("x",tu),tn.setAttribute("y",td),tn.setAttribute("transform","rotate(-90,"+tu+","+td+")")}}#an(p,c){return new $enCharts.Point((p-this.#Y)*this.#C/(this.#Z-this.#Y)+this.#N,this.#D-(c-this.#$)*this.#D/(this.#_-this.#$)+this.#L)}#aj(g){let f=this.#an(g,this.#$),w=this.#an(g,this.#_);if(this.layout.xAxis.visible){let S=document.createElementNS("http://www.w3.org/2000/svg","line");S.setAttribute("stroke",this.layout.xAxis.style.stroke),S.setAttribute("stroke-width",this.layout.xAxis.style.strokeWidth),S.setAttribute("x1",f.x),S.setAttribute("y1",f.y),S.setAttribute("x2",f.x),S.setAttribute("y2",f.y+this.#V),S.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(S)}let k=document.createElementNS("http://www.w3.org/2000/svg","text");if(k.setAttribute("fill",this.layout.xAxis.tick.style.color),k.setAttribute("x",f.x),k.setAttribute("y",f.y+this.#V+this.#W+this.layout.xAxis.tick.style.fontSize),k.setAttribute("text-anchor","middle"),k.setAttribute("font-size",this.layout.xAxis.tick.style.fontSize),k.textContent=this.layout.xAxis.tick.text(this.#t[g-this.#Y].Date),this.#s.appendChild(k),this.layout.xAxis.grid.visible&&g!=this.#Y&&g!=this.#Z){let v=document.createElementNS("http://www.w3.org/2000/svg","line");v.setAttribute("stroke",this.layout.xAxis.grid.style.stroke),v.setAttribute("stroke-width",this.layout.xAxis.grid.style.strokeWidth),v.setAttribute("stroke-dasharray",this.layout.xAxis.grid.style.strokeDashArray),v.setAttribute("x1",f.x),v.setAttribute("y1",f.y),v.setAttribute("x2",w.x),v.setAttribute("y2",w.y),v.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(v)}}#ak(m){let $=this.#an(this.#Y,m),_=this.#an(this.#Z,m);if(this.layout.yAxis.visible){let C=document.createElementNS("http://www.w3.org/2000/svg","line");C.setAttribute("stroke",this.layout.yAxis.style.stroke),C.setAttribute("stroke-width",this.layout.yAxis.style.strokeWidth),C.setAttribute("x1",$.x),C.setAttribute("y1",$.y),C.setAttribute("x2",$.x-this.#V),C.setAttribute("y2",$.y),C.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(C)}let M=document.createElementNS("http://www.w3.org/2000/svg","text");if(M.setAttribute("fill",this.layout.yAxis.tick.style.color),M.setAttribute("x",$.x-this.#V-this.#W),M.setAttribute("y",$.y+this.layout.yAxis.tick.style.fontSize/2),M.setAttribute("text-anchor","end"),M.setAttribute("font-size",this.layout.yAxis.tick.style.fontSize),M.textContent=this.layout.yAxis.tick.text(m),this.#s.appendChild(M),this.layout.yAxis.grid.visible&&m!=this.#$&&m!=this.#_){let z=document.createElementNS("http://www.w3.org/2000/svg","line");z.setAttribute("stroke",this.layout.yAxis.grid.style.stroke),z.setAttribute("stroke-width",this.layout.yAxis.grid.style.strokeWidth),z.setAttribute("stroke-dasharray",this.layout.yAxis.grid.style.strokeDashArray),z.setAttribute("x1",$.x),z.setAttribute("y1",$.y),z.setAttribute("x2",_.x),z.setAttribute("y2",_.y),z.setAttribute("shape-rendering","crispEdges"),this.#s.appendChild(z)}}}